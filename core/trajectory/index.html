<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ğŸš€ Research Playground & Evaluation OS for Recursive Language Model Agentic Systems"><meta name=author content="Shashi Jagtap"><link href=https://superagenticai.github.io/rlm-code/core/trajectory/ rel=canonical><link href=../repl-types/ rel=prev><link href=../comparison/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>ğŸ“ˆ Trajectory - RLM Code ğŸ§ª</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#trajectory-logging class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="RLM Code ğŸ§ª" class="md-header__button md-logo" aria-label="RLM Code ğŸ§ª" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> RLM Code ğŸ§ª </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> ğŸ“ˆ Trajectory </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=purple aria-label="â˜€ï¸ Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="â˜€ï¸ Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=purple aria-label="ğŸŒ™ Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="ğŸŒ™ Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/SuperagenticAI/rlm-code title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> SuperagenticAI/rlm-code </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> ğŸ  Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> ğŸš€ Getting Started </a> </li> <li class=md-tabs__item> <a href=../../codemode/ class=md-tabs__link> ğŸ§ª CodeMode </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> ğŸ§  Core Engine </a> </li> <li class=md-tabs__item> <a href=../../policies/ class=md-tabs__link> ğŸ¯ Policies & Safety </a> </li> <li class=md-tabs__item> <a href=../../tui/ class=md-tabs__link> ğŸ–¥ï¸ Terminal UI </a> </li> <li class=md-tabs__item> <a href=../../benchmarks/ class=md-tabs__link> ğŸ“Š Benchmarks & Replay </a> </li> <li class=md-tabs__item> <a href=../../observability/ class=md-tabs__link> ğŸ” Observability </a> </li> <li class=md-tabs__item> <a href=../../sandbox/ class=md-tabs__link> ğŸ“¦ Platform </a> </li> <li class=md-tabs__item> <a href=../../reference/ class=md-tabs__link> ğŸ“– Reference </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="RLM Code ğŸ§ª" class="md-nav__button md-logo" aria-label="RLM Code ğŸ§ª" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> RLM Code ğŸ§ª </label> <div class=md-nav__source> <a href=https://github.com/SuperagenticAI/rlm-code title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> SuperagenticAI/rlm-code </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> ğŸ  Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../getting-started/ class="md-nav__link "> <span class=md-ellipsis> ğŸš€ Getting Started </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> ğŸš€ Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/start-here/ class=md-nav__link> <span class=md-ellipsis> ğŸ§­ Start Here </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> ğŸ“¦ Installation </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/quickstart/ class=md-nav__link> <span class=md-ellipsis> âš¡ Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/codemode-quickstart/ class=md-nav__link> <span class=md-ellipsis> ğŸ§ª CodeMode Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/researcher-onboarding/ class=md-nav__link> <span class=md-ellipsis> ğŸ§‘ğŸ”¬ Researcher Onboarding </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/cli/ class=md-nav__link> <span class=md-ellipsis> ğŸ’» CLI Reference </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/configuration/ class=md-nav__link> <span class=md-ellipsis> âš™ï¸ Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../codemode/ class="md-nav__link "> <span class=md-ellipsis> ğŸ§ª CodeMode </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> ğŸ§ª CodeMode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../codemode/quickstart/ class=md-nav__link> <span class=md-ellipsis> âš¡ Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../../codemode/utcp/ class=md-nav__link> <span class=md-ellipsis> ğŸ”§ UTCP (Local) </span> </a> </li> <li class=md-nav__item> <a href=../../codemode/cloudflare/ class=md-nav__link> <span class=md-ellipsis> â˜ï¸ Cloudflare (Remote) </span> </a> </li> <li class=md-nav__item> <a href=../../codemode/architecture/ class=md-nav__link> <span class=md-ellipsis> ğŸ—ï¸ Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../codemode/guardrails/ class=md-nav__link> <span class=md-ellipsis> ğŸ›¡ï¸ Guardrails </span> </a> </li> <li class=md-nav__item> <a href=../../codemode/evaluation/ class=md-nav__link> <span class=md-ellipsis> âš–ï¸ Evaluation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> ğŸ§  Core Engine </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> ğŸ§  Core Engine </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../runner/ class=md-nav__link> <span class=md-ellipsis> ğŸ”„ RLM Runner </span> </a> </li> <li class=md-nav__item> <a href=../environments/ class=md-nav__link> <span class=md-ellipsis> ğŸŒ Environments </span> </a> </li> <li class=md-nav__item> <a href=../execution-patterns/ class=md-nav__link> <span class=md-ellipsis> ğŸ§­ Execution Patterns </span> </a> </li> <li class=md-nav__item> <a href=../events/ class=md-nav__link> <span class=md-ellipsis> ğŸ“¡ Event System </span> </a> </li> <li class=md-nav__item> <a href=../termination/ class=md-nav__link> <span class=md-ellipsis> ğŸ›‘ Termination </span> </a> </li> <li class=md-nav__item> <a href=../memory-compaction/ class=md-nav__link> <span class=md-ellipsis> ğŸ§¹ Memory Compaction </span> </a> </li> <li class=md-nav__item> <a href=../repl-types/ class=md-nav__link> <span class=md-ellipsis> ğŸ“Ÿ REPL Types </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> ğŸ“ˆ Trajectory </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> ğŸ“ˆ Trajectory </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trajectoryeventtype class=md-nav__link> <span class=md-ellipsis> TrajectoryEventType </span> </a> </li> <li class=md-nav__item> <a href=#trajectoryevent class=md-nav__link> <span class=md-ellipsis> TrajectoryEvent </span> </a> <nav class=md-nav aria-label=TrajectoryEvent> <ul class=md-nav__list> <li class=md-nav__item> <a href=#serialization class=md-nav__link> <span class=md-ellipsis> Serialization </span> </a> </li> <li class=md-nav__item> <a href=#deserialization class=md-nav__link> <span class=md-ellipsis> Deserialization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trajectorylogger class=md-nav__link> <span class=md-ellipsis> TrajectoryLogger </span> </a> <nav class=md-nav aria-label=TrajectoryLogger> <ul class=md-nav__list> <li class=md-nav__item> <a href=#context-manager-support class=md-nav__link> <span class=md-ellipsis> Context Manager Support </span> </a> </li> <li class=md-nav__item> <a href=#logging-methods class=md-nav__link> <span class=md-ellipsis> Logging Methods </span> </a> <nav class=md-nav aria-label="Logging Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log_eventevent class=md-nav__link> <span class=md-ellipsis> log_event(event) </span> </a> </li> <li class=md-nav__item> <a href=#log_run_starttask-context_lengthnone-modelnone class=md-nav__link> <span class=md-ellipsis> log_run_start(task, context_length=None, model=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_run_endsuccess-answernone-total_tokensnone-duration_secondsnone class=md-nav__link> <span class=md-ellipsis> log_run_end(success, answer=None, total_tokens=None, duration_seconds=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_iteration_startiteration class=md-nav__link> <span class=md-ellipsis> log_iteration_start(iteration) </span> </a> </li> <li class=md-nav__item> <a href=#log_iterationiteration-reasoning-code-output-duration_msnone-tokens_usednone class=md-nav__link> <span class=md-ellipsis> log_iteration(iteration, reasoning, code, output, duration_ms=None, tokens_used=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_llm_callprompt-response-tokens_innone-tokens_outnone-duration_msnone-is_sub_llmfalse class=md-nav__link> <span class=md-ellipsis> log_llm_call(prompt, response, tokens_in=None, tokens_out=None, duration_ms=None, is_sub_llm=False) </span> </a> </li> <li class=md-nav__item> <a href=#log_child_spawnchild_id-task-depth class=md-nav__link> <span class=md-ellipsis> log_child_spawn(child_id, task, depth) </span> </a> </li> <li class=md-nav__item> <a href=#log_child_resultchild_id-result-success class=md-nav__link> <span class=md-ellipsis> log_child_result(child_id, result, success) </span> </a> </li> <li class=md-nav__item> <a href=#log_finalanswer class=md-nav__link> <span class=md-ellipsis> log_final(answer) </span> </a> </li> <li class=md-nav__item> <a href=#log_context_loadcontext_type-length-previewnone class=md-nav__link> <span class=md-ellipsis> log_context_load(context_type, length, preview=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_errorerror-tracebacknone class=md-nav__link> <span class=md-ellipsis> log_error(error, traceback=None) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#depth-management class=md-nav__link> <span class=md-ellipsis> Depth Management </span> </a> </li> <li class=md-nav__item> <a href=#close class=md-nav__link> <span class=md-ellipsis> close() </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trajectoryviewer class=md-nav__link> <span class=md-ellipsis> TrajectoryViewer </span> </a> <nav class=md-nav aria-label=TrajectoryViewer> <ul class=md-nav__list> <li class=md-nav__item> <a href=#methods class=md-nav__link> <span class=md-ellipsis> Methods </span> </a> <nav class=md-nav aria-label=Methods> <ul class=md-nav__list> <li class=md-nav__item> <a href=#events-listtrajectoryevent class=md-nav__link> <span class=md-ellipsis> events() -&gt; list[TrajectoryEvent] </span> </a> </li> <li class=md-nav__item> <a href=#iterations-iteratorlisttrajectoryevent class=md-nav__link> <span class=md-ellipsis> iterations() -&gt; Iterator[list[TrajectoryEvent]] </span> </a> </li> <li class=md-nav__item> <a href=#summary-dictstr-any class=md-nav__link> <span class=md-ellipsis> summary() -&gt; dict[str, Any] </span> </a> </li> <li class=md-nav__item> <a href=#format_tree-str class=md-nav__link> <span class=md-ellipsis> format_tree() -&gt; str </span> </a> </li> <li class=md-nav__item> <a href=#export_htmloutput_path class=md-nav__link> <span class=md-ellipsis> export_html(output_path) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#standalone-functions class=md-nav__link> <span class=md-ellipsis> Standalone Functions </span> </a> <nav class=md-nav aria-label="Standalone Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#load_trajectorypath-trajectoryviewer class=md-nav__link> <span class=md-ellipsis> load_trajectory(path) -&gt; TrajectoryViewer </span> </a> </li> <li class=md-nav__item> <a href=#compare_trajectoriespaths-dictstr-any class=md-nav__link> <span class=md-ellipsis> compare_trajectories(paths) -&gt; dict[str, Any] </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#jsonl-format-specification class=md-nav__link> <span class=md-ellipsis> JSONL Format Specification </span> </a> <nav class=md-nav aria-label="JSONL Format Specification"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#required-fields class=md-nav__link> <span class=md-ellipsis> Required Fields </span> </a> </li> <li class=md-nav__item> <a href=#optional-fields class=md-nav__link> <span class=md-ellipsis> Optional Fields </span> </a> </li> <li class=md-nav__item> <a href=#example-complete-trajectory class=md-nav__link> <span class=md-ellipsis> Example Complete Trajectory </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#complete-usage-example class=md-nav__link> <span class=md-ellipsis> Complete Usage Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../comparison/ class=md-nav__link> <span class=md-ellipsis> ğŸ”„ Paradigm Comparison </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../policies/ class="md-nav__link "> <span class=md-ellipsis> ğŸ¯ Policies & Safety </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> ğŸ¯ Policies & Safety </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../policies/reward/ class=md-nav__link> <span class=md-ellipsis> ğŸ† Reward Policies </span> </a> </li> <li class=md-nav__item> <a href=../../policies/action-selection/ class=md-nav__link> <span class=md-ellipsis> ğŸ¯ Action Selection </span> </a> </li> <li class=md-nav__item> <a href=../../policies/compaction/ class=md-nav__link> <span class=md-ellipsis> ğŸ§¹ Compaction </span> </a> </li> <li class=md-nav__item> <a href=../../policies/termination/ class=md-nav__link> <span class=md-ellipsis> ğŸ›‘ Termination </span> </a> </li> <li class=md-nav__item> <a href=../../policies/registry/ class=md-nav__link> <span class=md-ellipsis> ğŸ“š Registry </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <div class="md-nav__link md-nav__container"> <a href=../../security/ class="md-nav__link "> <span class=md-ellipsis> ğŸ”’ HITL & Approval </span> </a> <label class="md-nav__link " for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> ğŸ”’ HITL & Approval </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../security/approval-gates/ class=md-nav__link> <span class=md-ellipsis> ğŸ”’ Approval Gates </span> </a> </li> <li class=md-nav__item> <a href=../../security/codemode-guardrails/ class=md-nav__link> <span class=md-ellipsis> ğŸ›¡ï¸ CodeMode Guardrails </span> </a> </li> <li class=md-nav__item> <a href=../../security/risk-assessment/ class=md-nav__link> <span class=md-ellipsis> âš ï¸ Risk Assessment </span> </a> </li> <li class=md-nav__item> <a href=../../security/audit/ class=md-nav__link> <span class=md-ellipsis> ğŸ“ Audit Logging </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../tui/ class="md-nav__link "> <span class=md-ellipsis> ğŸ–¥ï¸ Terminal UI </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> ğŸ–¥ï¸ Terminal UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tui/tabs/ class=md-nav__link> <span class=md-ellipsis> ğŸ“‹ Tab Reference </span> </a> </li> <li class=md-nav__item> <a href=../../tui/research/ class=md-nav__link> <span class=md-ellipsis> ğŸ”¬ Research Tab </span> </a> </li> <li class=md-nav__item> <a href=../../tui/widgets/ class=md-nav__link> <span class=md-ellipsis> ğŸ§© Widgets </span> </a> </li> <li class=md-nav__item> <a href=../../tui/theme/ class=md-nav__link> <span class=md-ellipsis> ğŸ¨ Theme System </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../benchmarks/ class="md-nav__link "> <span class=md-ellipsis> ğŸ“Š Benchmarks & Replay </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> ğŸ“Š Benchmarks & Replay </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../benchmarks/presets/ class=md-nav__link> <span class=md-ellipsis> ğŸ Presets </span> </a> </li> <li class=md-nav__item> <a href=../../benchmarks/leaderboard/ class=md-nav__link> <span class=md-ellipsis> ğŸ† Leaderboard </span> </a> </li> <li class=md-nav__item> <a href=../../benchmarks/codemode-evaluation/ class=md-nav__link> <span class=md-ellipsis> âš–ï¸ CodeMode Evaluation </span> </a> </li> <li class=md-nav__item> <a href=../../benchmarks/session-replay/ class=md-nav__link> <span class=md-ellipsis> âª Session Replay </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../../observability/ class="md-nav__link "> <span class=md-ellipsis> ğŸ” Observability </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> ğŸ” Observability </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../observability/sinks/ class=md-nav__link> <span class=md-ellipsis> ğŸ“¥ Sink Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../observability/mlflow/ class=md-nav__link> <span class=md-ellipsis> ğŸ“Š MLflow </span> </a> </li> <li class=md-nav__item> <a href=../../observability/otel/ class=md-nav__link> <span class=md-ellipsis> ğŸ“¡ OpenTelemetry </span> </a> </li> <li class=md-nav__item> <a href=../../observability/langsmith/ class=md-nav__link> <span class=md-ellipsis> ğŸ”— LangSmith </span> </a> </li> <li class=md-nav__item> <a href=../../observability/langfuse/ class=md-nav__link> <span class=md-ellipsis> ğŸ”— LangFuse </span> </a> </li> <li class=md-nav__item> <a href=../../observability/logfire/ class=md-nav__link> <span class=md-ellipsis> ğŸ”¥ Logfire </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> ğŸ“¦ Platform </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> ğŸ“¦ Platform </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1> <div class="md-nav__link md-nav__container"> <a href=../../sandbox/ class="md-nav__link "> <span class=md-ellipsis> ğŸ“¦ Sandbox Runtimes </span> </a> <label class="md-nav__link " for=__nav_9_1 id=__nav_9_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1> <span class="md-nav__icon md-icon"></span> ğŸ“¦ Sandbox Runtimes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../sandbox/local/ class=md-nav__link> <span class=md-ellipsis> ğŸ’» Local </span> </a> </li> <li class=md-nav__item> <a href=../../sandbox/monty/ class=md-nav__link> <span class=md-ellipsis> ğŸ§¦ Monty </span> </a> </li> <li class=md-nav__item> <a href=../../sandbox/docker/ class=md-nav__link> <span class=md-ellipsis> ğŸ³ Docker </span> </a> </li> <li class=md-nav__item> <a href=../../sandbox/cloud/ class=md-nav__link> <span class=md-ellipsis> â˜ï¸ Cloud </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_2> <div class="md-nav__link md-nav__container"> <a href=../../integrations/ class="md-nav__link "> <span class=md-ellipsis> ğŸ”— Integrations </span> </a> <label class="md-nav__link " for=__nav_9_2 id=__nav_9_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_2> <span class="md-nav__icon md-icon"></span> ğŸ”— Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../integrations/llm-providers/ class=md-nav__link> <span class=md-ellipsis> ğŸ¤– LLM Providers </span> </a> </li> <li class=md-nav__item> <a href=../../integrations/mcp/ class=md-nav__link> <span class=md-ellipsis> ğŸ”Œ MCP Server </span> </a> </li> <li class=md-nav__item> <a href=../../integrations/codemode/ class=md-nav__link> <span class=md-ellipsis> ğŸ§ª CodeMode Integration </span> </a> </li> <li class=md-nav__item> <a href=../../integrations/frameworks/ class=md-nav__link> <span class=md-ellipsis> ğŸ§© Frameworks </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__container"> <a href=../../reference/ class="md-nav__link "> <span class=md-ellipsis> ğŸ“– Reference </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> ğŸ“– Reference </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trajectoryeventtype class=md-nav__link> <span class=md-ellipsis> TrajectoryEventType </span> </a> </li> <li class=md-nav__item> <a href=#trajectoryevent class=md-nav__link> <span class=md-ellipsis> TrajectoryEvent </span> </a> <nav class=md-nav aria-label=TrajectoryEvent> <ul class=md-nav__list> <li class=md-nav__item> <a href=#serialization class=md-nav__link> <span class=md-ellipsis> Serialization </span> </a> </li> <li class=md-nav__item> <a href=#deserialization class=md-nav__link> <span class=md-ellipsis> Deserialization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trajectorylogger class=md-nav__link> <span class=md-ellipsis> TrajectoryLogger </span> </a> <nav class=md-nav aria-label=TrajectoryLogger> <ul class=md-nav__list> <li class=md-nav__item> <a href=#context-manager-support class=md-nav__link> <span class=md-ellipsis> Context Manager Support </span> </a> </li> <li class=md-nav__item> <a href=#logging-methods class=md-nav__link> <span class=md-ellipsis> Logging Methods </span> </a> <nav class=md-nav aria-label="Logging Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log_eventevent class=md-nav__link> <span class=md-ellipsis> log_event(event) </span> </a> </li> <li class=md-nav__item> <a href=#log_run_starttask-context_lengthnone-modelnone class=md-nav__link> <span class=md-ellipsis> log_run_start(task, context_length=None, model=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_run_endsuccess-answernone-total_tokensnone-duration_secondsnone class=md-nav__link> <span class=md-ellipsis> log_run_end(success, answer=None, total_tokens=None, duration_seconds=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_iteration_startiteration class=md-nav__link> <span class=md-ellipsis> log_iteration_start(iteration) </span> </a> </li> <li class=md-nav__item> <a href=#log_iterationiteration-reasoning-code-output-duration_msnone-tokens_usednone class=md-nav__link> <span class=md-ellipsis> log_iteration(iteration, reasoning, code, output, duration_ms=None, tokens_used=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_llm_callprompt-response-tokens_innone-tokens_outnone-duration_msnone-is_sub_llmfalse class=md-nav__link> <span class=md-ellipsis> log_llm_call(prompt, response, tokens_in=None, tokens_out=None, duration_ms=None, is_sub_llm=False) </span> </a> </li> <li class=md-nav__item> <a href=#log_child_spawnchild_id-task-depth class=md-nav__link> <span class=md-ellipsis> log_child_spawn(child_id, task, depth) </span> </a> </li> <li class=md-nav__item> <a href=#log_child_resultchild_id-result-success class=md-nav__link> <span class=md-ellipsis> log_child_result(child_id, result, success) </span> </a> </li> <li class=md-nav__item> <a href=#log_finalanswer class=md-nav__link> <span class=md-ellipsis> log_final(answer) </span> </a> </li> <li class=md-nav__item> <a href=#log_context_loadcontext_type-length-previewnone class=md-nav__link> <span class=md-ellipsis> log_context_load(context_type, length, preview=None) </span> </a> </li> <li class=md-nav__item> <a href=#log_errorerror-tracebacknone class=md-nav__link> <span class=md-ellipsis> log_error(error, traceback=None) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#depth-management class=md-nav__link> <span class=md-ellipsis> Depth Management </span> </a> </li> <li class=md-nav__item> <a href=#close class=md-nav__link> <span class=md-ellipsis> close() </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trajectoryviewer class=md-nav__link> <span class=md-ellipsis> TrajectoryViewer </span> </a> <nav class=md-nav aria-label=TrajectoryViewer> <ul class=md-nav__list> <li class=md-nav__item> <a href=#methods class=md-nav__link> <span class=md-ellipsis> Methods </span> </a> <nav class=md-nav aria-label=Methods> <ul class=md-nav__list> <li class=md-nav__item> <a href=#events-listtrajectoryevent class=md-nav__link> <span class=md-ellipsis> events() -&gt; list[TrajectoryEvent] </span> </a> </li> <li class=md-nav__item> <a href=#iterations-iteratorlisttrajectoryevent class=md-nav__link> <span class=md-ellipsis> iterations() -&gt; Iterator[list[TrajectoryEvent]] </span> </a> </li> <li class=md-nav__item> <a href=#summary-dictstr-any class=md-nav__link> <span class=md-ellipsis> summary() -&gt; dict[str, Any] </span> </a> </li> <li class=md-nav__item> <a href=#format_tree-str class=md-nav__link> <span class=md-ellipsis> format_tree() -&gt; str </span> </a> </li> <li class=md-nav__item> <a href=#export_htmloutput_path class=md-nav__link> <span class=md-ellipsis> export_html(output_path) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#standalone-functions class=md-nav__link> <span class=md-ellipsis> Standalone Functions </span> </a> <nav class=md-nav aria-label="Standalone Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#load_trajectorypath-trajectoryviewer class=md-nav__link> <span class=md-ellipsis> load_trajectory(path) -&gt; TrajectoryViewer </span> </a> </li> <li class=md-nav__item> <a href=#compare_trajectoriespaths-dictstr-any class=md-nav__link> <span class=md-ellipsis> compare_trajectories(paths) -&gt; dict[str, Any] </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#jsonl-format-specification class=md-nav__link> <span class=md-ellipsis> JSONL Format Specification </span> </a> <nav class=md-nav aria-label="JSONL Format Specification"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#required-fields class=md-nav__link> <span class=md-ellipsis> Required Fields </span> </a> </li> <li class=md-nav__item> <a href=#optional-fields class=md-nav__link> <span class=md-ellipsis> Optional Fields </span> </a> </li> <li class=md-nav__item> <a href=#example-complete-trajectory class=md-nav__link> <span class=md-ellipsis> Example Complete Trajectory </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#complete-usage-example class=md-nav__link> <span class=md-ellipsis> Complete Usage Example </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../.. class=md-path__link> <span class=md-ellipsis> ğŸ  Home </span> </a> </li> <li class=md-path__item> <a href=../ class=md-path__link> <span class=md-ellipsis> ğŸ§  Core Engine </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id=trajectory-logging>Trajectory Logging<a class=headerlink href=#trajectory-logging title="Permanent link">&para;</a></h1> <div class="admonition info"> <p class=admonition-title>Module</p> <p><code>rlm_code.rlm.trajectory</code></p> </div> <p>Trajectory logging provides JSONL-based execution tracing for RLM runs. It records every phase of execution -- reasoning, code, output, LLM calls, child agents, and termination -- in a format compatible with agent evaluation frameworks and visualization tools.</p> <hr> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>Every RLM run produces a trajectory: a chronological sequence of events capturing what the LLM thought, what code it wrote, what output it received, and how it arrived at its final answer. Trajectories are stored as JSONL (one JSON object per line) for streaming-friendly append-only writes.</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>traces/run_001.jsonl
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>{&quot;event_type&quot;: &quot;run_start&quot;, &quot;timestamp&quot;: 1706400000.0, &quot;run_id&quot;: &quot;run_001&quot;, &quot;data&quot;: {&quot;task&quot;: &quot;...&quot;}}
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>{&quot;event_type&quot;: &quot;iteration_reasoning&quot;, &quot;timestamp&quot;: 1706400001.2, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 1, &quot;data&quot;: {&quot;reasoning&quot;: &quot;...&quot;}}
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>{&quot;event_type&quot;: &quot;iteration_code&quot;, &quot;timestamp&quot;: 1706400001.5, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 1, &quot;data&quot;: {&quot;code&quot;: &quot;...&quot;}}
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>{&quot;event_type&quot;: &quot;iteration_output&quot;, &quot;timestamp&quot;: 1706400002.1, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 1, &quot;data&quot;: {&quot;output&quot;: &quot;...&quot;}, &quot;duration_ms&quot;: 600}
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>{&quot;event_type&quot;: &quot;final_detected&quot;, &quot;timestamp&quot;: 1706400005.0, &quot;run_id&quot;: &quot;run_001&quot;, &quot;data&quot;: {&quot;answer&quot;: &quot;...&quot;}}
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>{&quot;event_type&quot;: &quot;run_end&quot;, &quot;timestamp&quot;: 1706400005.1, &quot;run_id&quot;: &quot;run_001&quot;, &quot;data&quot;: {&quot;success&quot;: true}, &quot;duration_ms&quot;: 5100}
</span></code></pre></div> <hr> <h2 id=classes>Classes<a class=headerlink href=#classes title="Permanent link">&para;</a></h2> <h3 id=trajectoryeventtype><code>TrajectoryEventType</code><a class=headerlink href=#trajectoryeventtype title="Permanent link">&para;</a></h3> <p>Enumeration of 18 event types for trajectory logging.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>class</span><span class=w> </span><span class=nc>TrajectoryEventType</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>Enum</span><span class=p>):</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=c1># Run lifecycle</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>RUN_START</span> <span class=o>=</span> <span class=s2>&quot;run_start&quot;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>RUN_END</span> <span class=o>=</span> <span class=s2>&quot;run_end&quot;</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=c1># REPL iterations</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>    <span class=n>ITERATION_START</span> <span class=o>=</span> <span class=s2>&quot;iteration_start&quot;</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=n>ITERATION_REASONING</span> <span class=o>=</span> <span class=s2>&quot;iteration_reasoning&quot;</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=n>ITERATION_CODE</span> <span class=o>=</span> <span class=s2>&quot;iteration_code&quot;</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>    <span class=n>ITERATION_OUTPUT</span> <span class=o>=</span> <span class=s2>&quot;iteration_output&quot;</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>    <span class=n>ITERATION_END</span> <span class=o>=</span> <span class=s2>&quot;iteration_end&quot;</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>    <span class=c1># LLM calls</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>    <span class=n>LLM_REQUEST</span> <span class=o>=</span> <span class=s2>&quot;llm_request&quot;</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>    <span class=n>LLM_RESPONSE</span> <span class=o>=</span> <span class=s2>&quot;llm_response&quot;</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>    <span class=c1># Sub-LLM (llm_query from code)</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>    <span class=n>SUB_LLM_REQUEST</span> <span class=o>=</span> <span class=s2>&quot;sub_llm_request&quot;</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>    <span class=n>SUB_LLM_RESPONSE</span> <span class=o>=</span> <span class=s2>&quot;sub_llm_response&quot;</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>    <span class=c1># Child agents</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>    <span class=n>CHILD_SPAWN</span> <span class=o>=</span> <span class=s2>&quot;child_spawn&quot;</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>    <span class=n>CHILD_RESULT</span> <span class=o>=</span> <span class=s2>&quot;child_result&quot;</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>    <span class=c1># Termination</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>    <span class=n>FINAL_DETECTED</span> <span class=o>=</span> <span class=s2>&quot;final_detected&quot;</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>    <span class=c1># Context</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>    <span class=n>CONTEXT_LOAD</span> <span class=o>=</span> <span class=s2>&quot;context_load&quot;</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a>    <span class=n>CONTEXT_UPDATE</span> <span class=o>=</span> <span class=s2>&quot;context_update&quot;</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a>    <span class=c1># Memory</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>    <span class=n>MEMORY_COMPACT</span> <span class=o>=</span> <span class=s2>&quot;memory_compact&quot;</span>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a>    <span class=c1># Errors</span>
</span><span id=__span-1-36><a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a>    <span class=n>ERROR</span> <span class=o>=</span> <span class=s2>&quot;error&quot;</span>
</span></code></pre></div> <table> <thead> <tr> <th>Category</th> <th>Event Types</th> </tr> </thead> <tbody> <tr> <td>Run lifecycle</td> <td><code>RUN_START</code>, <code>RUN_END</code></td> </tr> <tr> <td>Iterations</td> <td><code>ITERATION_START</code>, <code>ITERATION_REASONING</code>, <code>ITERATION_CODE</code>, <code>ITERATION_OUTPUT</code>, <code>ITERATION_END</code></td> </tr> <tr> <td>LLM calls</td> <td><code>LLM_REQUEST</code>, <code>LLM_RESPONSE</code></td> </tr> <tr> <td>Sub-LLM</td> <td><code>SUB_LLM_REQUEST</code>, <code>SUB_LLM_RESPONSE</code></td> </tr> <tr> <td>Child agents</td> <td><code>CHILD_SPAWN</code>, <code>CHILD_RESULT</code></td> </tr> <tr> <td>Termination</td> <td><code>FINAL_DETECTED</code></td> </tr> <tr> <td>Context</td> <td><code>CONTEXT_LOAD</code>, <code>CONTEXT_UPDATE</code></td> </tr> <tr> <td>Memory</td> <td><code>MEMORY_COMPACT</code></td> </tr> <tr> <td>Errors</td> <td><code>ERROR</code></td> </tr> </tbody> </table> <hr> <h3 id=trajectoryevent><code>TrajectoryEvent</code><a class=headerlink href=#trajectoryevent title="Permanent link">&para;</a></h3> <p>A single event in a trajectory.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nd>@dataclass</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>class</span><span class=w> </span><span class=nc>TrajectoryEvent</span><span class=p>:</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>event_type</span><span class=p>:</span> <span class=n>TrajectoryEventType</span>          <span class=c1># Event category</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>timestamp</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>            <span class=c1># Unix timestamp (time.time())</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>run_id</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>                         <span class=c1># Run identifier</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>    <span class=n>iteration</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span>             <span class=c1># Iteration number</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>    <span class=n>depth</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>                           <span class=c1># Recursion depth (0 = root)</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=n>parent_id</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span>             <span class=c1># Parent agent ID</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>    <span class=c1># Event-specific data</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    <span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>        <span class=c1># Arbitrary event payload</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=c1># Metrics</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>    <span class=n>tokens_in</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span>             <span class=c1># Input tokens</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>    <span class=n>tokens_out</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span>            <span class=c1># Output tokens</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>    <span class=n>duration_ms</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span>         <span class=c1># Duration in milliseconds</span>
</span></code></pre></div> <table> <thead> <tr> <th>Field</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>event_type</code></td> <td><code>TrajectoryEventType</code></td> <td>Category of the event</td> </tr> <tr> <td><code>timestamp</code></td> <td><code>float</code></td> <td>Unix timestamp (from <code>time.time()</code>)</td> </tr> <tr> <td><code>run_id</code></td> <td><code>str</code></td> <td>Correlates events within a single run</td> </tr> <tr> <td><code>iteration</code></td> <td><code>int \| None</code></td> <td>Which iteration this event belongs to</td> </tr> <tr> <td><code>depth</code></td> <td><code>int</code></td> <td>Recursion depth (0 for root agent, 1+ for children)</td> </tr> <tr> <td><code>parent_id</code></td> <td><code>str \| None</code></td> <td>ID of the parent agent (for child events)</td> </tr> <tr> <td><code>data</code></td> <td><code>dict[str, Any]</code></td> <td>Event-specific payload</td> </tr> <tr> <td><code>tokens_in</code></td> <td><code>int \| None</code></td> <td>Input token count</td> </tr> <tr> <td><code>tokens_out</code></td> <td><code>int \| None</code></td> <td>Output token count</td> </tr> <tr> <td><code>duration_ms</code></td> <td><code>float \| None</code></td> <td>Duration in milliseconds</td> </tr> </tbody> </table> <h4 id=serialization>Serialization<a class=headerlink href=#serialization title="Permanent link">&para;</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>event</span> <span class=o>=</span> <span class=n>TrajectoryEvent</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>event_type</span><span class=o>=</span><span class=n>TrajectoryEventType</span><span class=o>.</span><span class=n>ITERATION_CODE</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>run_id</span><span class=o>=</span><span class=s2>&quot;run_abc123&quot;</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>iteration</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>data</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;code&quot;</span><span class=p>:</span> <span class=s2>&quot;print(len(context))&quot;</span><span class=p>},</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=p>)</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=n>d</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>to_dict</span><span class=p>()</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=c1># {&quot;event_type&quot;: &quot;iteration_code&quot;, &quot;timestamp&quot;: 1706400001.5,</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=c1>#  &quot;run_id&quot;: &quot;run_abc123&quot;, &quot;iteration&quot;: 2,</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=c1>#  &quot;data&quot;: {&quot;code&quot;: &quot;print(len(context))&quot;}}</span>
</span></code></pre></div> <h4 id=deserialization>Deserialization<a class=headerlink href=#deserialization title="Permanent link">&para;</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>event</span> <span class=o>=</span> <span class=n>TrajectoryEvent</span><span class=o>.</span><span class=n>from_dict</span><span class=p>({</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=s2>&quot;event_type&quot;</span><span class=p>:</span> <span class=s2>&quot;iteration_output&quot;</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=s2>&quot;timestamp&quot;</span><span class=p>:</span> <span class=mf>1706400002.1</span><span class=p>,</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=s2>&quot;run_id&quot;</span><span class=p>:</span> <span class=s2>&quot;run_abc123&quot;</span><span class=p>,</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=s2>&quot;iteration&quot;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;output&quot;</span><span class=p>:</span> <span class=s2>&quot;45230&quot;</span><span class=p>},</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>    <span class=s2>&quot;duration_ms&quot;</span><span class=p>:</span> <span class=mf>15.3</span><span class=p>,</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=p>})</span>
</span></code></pre></div> <hr> <h3 id=trajectorylogger><code>TrajectoryLogger</code><a class=headerlink href=#trajectorylogger title="Permanent link">&para;</a></h3> <p>JSONL trajectory logger for RLM execution. Provides convenience methods for logging every event type.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>class</span><span class=w> </span><span class=nc>TrajectoryLogger</span><span class=p>:</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>        <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>        <span class=n>output_path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>        <span class=n>run_id</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>        <span class=n>metadata</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>    <span class=p>):</span>
</span></code></pre></div> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Default</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>output_path</code></td> <td><code>str \| Path</code></td> <td><em>required</em></td> <td>Path to the JSONL output file</td> </tr> <tr> <td><code>run_id</code></td> <td><code>str \| None</code></td> <td>Auto-generated</td> <td>Run identifier (default: <code>run_{timestamp_ms}</code>)</td> </tr> <tr> <td><code>metadata</code></td> <td><code>dict[str, Any] \| None</code></td> <td><code>None</code></td> <td>Arbitrary metadata stored with <code>run_start</code></td> </tr> </tbody> </table> <div class="admonition note"> <p class=admonition-title>Directory Creation</p> <p>The logger automatically creates parent directories if they do not exist.</p> </div> <h4 id=context-manager-support>Context Manager Support<a class=headerlink href=#context-manager-support title="Permanent link">&para;</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>with</span> <span class=n>TrajectoryLogger</span><span class=p>(</span><span class=s2>&quot;traces/run_001.jsonl&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>logger</span><span class=p>:</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>    <span class=n>logger</span><span class=o>.</span><span class=n>log_run_start</span><span class=p>(</span><span class=n>task</span><span class=o>=</span><span class=s2>&quot;Analyze data&quot;</span><span class=p>)</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=c1># ... log events ...</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>    <span class=n>logger</span><span class=o>.</span><span class=n>log_run_end</span><span class=p>(</span><span class=n>success</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>answer</span><span class=o>=</span><span class=s2>&quot;42&quot;</span><span class=p>)</span>
</span></code></pre></div> <h4 id=logging-methods>Logging Methods<a class=headerlink href=#logging-methods title="Permanent link">&para;</a></h4> <h5 id=log_eventevent><code>log_event(event)</code><a class=headerlink href=#log_eventevent title="Permanent link">&para;</a></h5> <p>Log a raw <code>TrajectoryEvent</code>. Automatically sets <code>run_id</code>, <code>iteration</code>, <code>depth</code>, and <code>parent_id</code> from logger state.</p> <h5 id=log_run_starttask-context_lengthnone-modelnone><code>log_run_start(task, context_length=None, model=None)</code><a class=headerlink href=#log_run_starttask-context_lengthnone-modelnone title="Permanent link">&para;</a></h5> <p>Log the beginning of a run.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>logger</span><span class=o>.</span><span class=n>log_run_start</span><span class=p>(</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>    <span class=n>task</span><span class=o>=</span><span class=s2>&quot;Analyze sentiment of customer reviews&quot;</span><span class=p>,</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=n>context_length</span><span class=o>=</span><span class=mi>45230</span><span class=p>,</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>    <span class=n>model</span><span class=o>=</span><span class=s2>&quot;gpt-4o&quot;</span><span class=p>,</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=p>)</span>
</span></code></pre></div> <h5 id=log_run_endsuccess-answernone-total_tokensnone-duration_secondsnone><code>log_run_end(success, answer=None, total_tokens=None, duration_seconds=None)</code><a class=headerlink href=#log_run_endsuccess-answernone-total_tokensnone-duration_secondsnone title="Permanent link">&para;</a></h5> <p>Log the end of a run.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>logger</span><span class=o>.</span><span class=n>log_run_end</span><span class=p>(</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>    <span class=n>success</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>    <span class=n>answer</span><span class=o>=</span><span class=s2>&quot;Overall sentiment is positive (87</span><span class=si>% c</span><span class=s2>onfidence)&quot;</span><span class=p>,</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=n>total_tokens</span><span class=o>=</span><span class=mi>8523</span><span class=p>,</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=p>)</span>
</span></code></pre></div> <h5 id=log_iteration_startiteration><code>log_iteration_start(iteration)</code><a class=headerlink href=#log_iteration_startiteration title="Permanent link">&para;</a></h5> <p>Log the start of an iteration. Updates the logger's current iteration counter.</p> <h5 id=log_iterationiteration-reasoning-code-output-duration_msnone-tokens_usednone><code>log_iteration(iteration, reasoning, code, output, duration_ms=None, tokens_used=None)</code><a class=headerlink href=#log_iterationiteration-reasoning-code-output-duration_msnone-tokens_usednone title="Permanent link">&para;</a></h5> <p>Convenience method to log a complete iteration (reasoning + code + output) in one call.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>logger</span><span class=o>.</span><span class=n>log_iteration</span><span class=p>(</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>    <span class=n>iteration</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    <span class=n>reasoning</span><span class=o>=</span><span class=s2>&quot;First, explore the data structure&quot;</span><span class=p>,</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>    <span class=n>code</span><span class=o>=</span><span class=s1>&#39;print(f&quot;Length: {len(context)}&quot;)&#39;</span><span class=p>,</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>    <span class=n>output</span><span class=o>=</span><span class=s2>&quot;Length: 45230&quot;</span><span class=p>,</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>    <span class=n>duration_ms</span><span class=o>=</span><span class=mf>15.3</span><span class=p>,</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=p>)</span>
</span></code></pre></div> <h5 id=log_llm_callprompt-response-tokens_innone-tokens_outnone-duration_msnone-is_sub_llmfalse><code>log_llm_call(prompt, response, tokens_in=None, tokens_out=None, duration_ms=None, is_sub_llm=False)</code><a class=headerlink href=#log_llm_callprompt-response-tokens_innone-tokens_outnone-duration_msnone-is_sub_llmfalse title="Permanent link">&para;</a></h5> <p>Log an LLM call (root or sub-LLM).</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># Root LLM call</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=n>logger</span><span class=o>.</span><span class=n>log_llm_call</span><span class=p>(</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;Analyze this data...&quot;</span><span class=p>,</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=n>response</span><span class=o>=</span><span class=s2>&quot;The data shows...&quot;</span><span class=p>,</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=n>tokens_in</span><span class=o>=</span><span class=mi>500</span><span class=p>,</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    <span class=n>tokens_out</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=n>duration_ms</span><span class=o>=</span><span class=mi>1200</span><span class=p>,</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=p>)</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=c1># Sub-LLM call from llm_query()</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=n>logger</span><span class=o>.</span><span class=n>log_llm_call</span><span class=p>(</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>    <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;Summarize this chunk...&quot;</span><span class=p>,</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>    <span class=n>response</span><span class=o>=</span><span class=s2>&quot;This chunk discusses...&quot;</span><span class=p>,</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>    <span class=n>is_sub_llm</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=p>)</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Response Truncation</p> <p>Responses longer than 1,000 characters are truncated in the log to keep file sizes manageable.</p> </div> <h5 id=log_child_spawnchild_id-task-depth><code>log_child_spawn(child_id, task, depth)</code><a class=headerlink href=#log_child_spawnchild_id-task-depth title="Permanent link">&para;</a></h5> <p>Log a child agent being spawned.</p> <h5 id=log_child_resultchild_id-result-success><code>log_child_result(child_id, result, success)</code><a class=headerlink href=#log_child_resultchild_id-result-success title="Permanent link">&para;</a></h5> <p>Log a child agent's result. Results are truncated to 500 characters.</p> <h5 id=log_finalanswer><code>log_final(answer)</code><a class=headerlink href=#log_finalanswer title="Permanent link">&para;</a></h5> <p>Log final answer detection.</p> <h5 id=log_context_loadcontext_type-length-previewnone><code>log_context_load(context_type, length, preview=None)</code><a class=headerlink href=#log_context_loadcontext_type-length-previewnone title="Permanent link">&para;</a></h5> <p>Log context being loaded. Preview is truncated to 200 characters.</p> <h5 id=log_errorerror-tracebacknone><code>log_error(error, traceback=None)</code><a class=headerlink href=#log_errorerror-tracebacknone title="Permanent link">&para;</a></h5> <p>Log an error with optional traceback.</p> <h4 id=depth-management>Depth Management<a class=headerlink href=#depth-management title="Permanent link">&para;</a></h4> <p>For recursive/child agent tracing:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>logger</span><span class=o>.</span><span class=n>push_depth</span><span class=p>(</span><span class=s2>&quot;child_agent_001&quot;</span><span class=p>)</span>  <span class=c1># depth becomes 1</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=c1># ... log child events ...</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=n>logger</span><span class=o>.</span><span class=n>pop_depth</span><span class=p>()</span>                     <span class=c1># depth returns to 0</span>
</span></code></pre></div> <h4 id=close><code>close()</code><a class=headerlink href=#close title="Permanent link">&para;</a></h4> <p>Close the underlying file handle. Called automatically by the context manager.</p> <hr> <h3 id=trajectoryviewer><code>TrajectoryViewer</code><a class=headerlink href=#trajectoryviewer title="Permanent link">&para;</a></h3> <p>Viewer for trajectory JSONL files. Provides visualization and analysis.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>class</span><span class=w> </span><span class=nc>TrajectoryViewer</span><span class=p>:</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>trajectory_path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>):</span>
</span></code></pre></div> <p>Events are loaded from the JSONL file on construction. Invalid lines are silently skipped.</p> <h4 id=methods>Methods<a class=headerlink href=#methods title="Permanent link">&para;</a></h4> <h5 id=events-listtrajectoryevent><code>events() -&gt; list[TrajectoryEvent]</code><a class=headerlink href=#events-listtrajectoryevent title="Permanent link">&para;</a></h5> <p>Get all loaded events.</p> <h5 id=iterations-iteratorlisttrajectoryevent><code>iterations() -&gt; Iterator[list[TrajectoryEvent]]</code><a class=headerlink href=#iterations-iteratorlisttrajectoryevent title="Permanent link">&para;</a></h5> <p>Yield events grouped by iteration number.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>viewer</span> <span class=o>=</span> <span class=n>TrajectoryViewer</span><span class=p>(</span><span class=s2>&quot;traces/run_001.jsonl&quot;</span><span class=p>)</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=k>for</span> <span class=n>iteration_events</span> <span class=ow>in</span> <span class=n>viewer</span><span class=o>.</span><span class=n>iterations</span><span class=p>():</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Iteration with </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>iteration_events</span><span class=p>)</span><span class=si>}</span><span class=s2> events&quot;</span><span class=p>)</span>
</span></code></pre></div> <h5 id=summary-dictstr-any><code>summary() -&gt; dict[str, Any]</code><a class=headerlink href=#summary-dictstr-any title="Permanent link">&para;</a></h5> <p>Get a comprehensive trajectory summary.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>summary</span> <span class=o>=</span> <span class=n>viewer</span><span class=o>.</span><span class=n>summary</span><span class=p>()</span>
</span></code></pre></div> <p>Returns:</p> <table> <thead> <tr> <th>Key</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>run_id</code></td> <td><code>str</code></td> <td>Run identifier</td> </tr> <tr> <td><code>task</code></td> <td><code>str</code></td> <td>Original task</td> </tr> <tr> <td><code>success</code></td> <td><code>bool</code></td> <td>Whether the run succeeded</td> </tr> <tr> <td><code>answer</code></td> <td><code>str</code></td> <td>Final answer</td> </tr> <tr> <td><code>total_events</code></td> <td><code>int</code></td> <td>Total event count</td> </tr> <tr> <td><code>total_iterations</code></td> <td><code>int</code></td> <td>Number of unique iterations</td> </tr> <tr> <td><code>max_depth</code></td> <td><code>int</code></td> <td>Maximum recursion depth reached</td> </tr> <tr> <td><code>total_tokens_in</code></td> <td><code>int</code></td> <td>Sum of all input tokens</td> </tr> <tr> <td><code>total_tokens_out</code></td> <td><code>int</code></td> <td>Sum of all output tokens</td> </tr> <tr> <td><code>total_tokens</code></td> <td><code>int</code></td> <td><code>total_tokens_in + total_tokens_out</code></td> </tr> <tr> <td><code>total_duration_ms</code></td> <td><code>float</code></td> <td>Sum of all event durations</td> </tr> <tr> <td><code>event_counts</code></td> <td><code>dict[str, int]</code></td> <td>Count of each event type</td> </tr> </tbody> </table> <h5 id=format_tree-str><code>format_tree() -&gt; str</code><a class=headerlink href=#format_tree-str title="Permanent link">&para;</a></h5> <p>Format the trajectory as a human-readable tree visualization.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=nb>print</span><span class=p>(</span><span class=n>viewer</span><span class=o>.</span><span class=n>format_tree</span><span class=p>())</span>
</span></code></pre></div> <p><strong>Example output:</strong></p> <div class="language-text highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>Trajectory: run_abc123
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>Task: Analyze sentiment of customer reviews...
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>Status: SUCCESS
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>[Iteration 1]
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>  THINK: First, let me explore the structure of the context dat...
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>  CODE: print(f&quot;Context length: {len(context)} chars&quot;)...
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>  OUTPUT: Context length: 45230 chars... (15ms)
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>[Iteration 2]
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>  THINK: Now let me process chunks using llm_query_batched...
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>  CODE: chunks = [context[i:i+10000] for i in range(0, len(cont...
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>  OUTPUT: Processed 5 chunks successfully... (3200ms)
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a>  -&gt; SUB_LLM_CALL
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>[Iteration 3]
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a>  THINK: Aggregate summaries and produce final answer...
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a>  CODE: final = llm_query(f&quot;Combine: {summaries}&quot;)...
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>  FINAL: Overall sentiment is positive (87% confidence)...
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a>Summary: 3 iterations, 8523 tokens, 4500ms
</span></code></pre></div> <h5 id=export_htmloutput_path><code>export_html(output_path)</code><a class=headerlink href=#export_htmloutput_path title="Permanent link">&para;</a></h5> <p>Export the trajectory as an interactive HTML file with a dark theme, collapsible iterations, and syntax-highlighted code blocks.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>viewer</span><span class=o>.</span><span class=n>export_html</span><span class=p>(</span><span class=s2>&quot;traces/run_001.html&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>The HTML includes:</p> <ul> <li><strong>Header</strong> with run metadata and summary metrics (status, iterations, tokens, duration, depth)</li> <li><strong>Timeline</strong> with collapsible iteration sections</li> <li><strong>Color-coded events</strong> (reasoning in orange, code in monospace, output in green, finals in teal, errors in red)</li> <li><strong>Click-to-expand</strong> iterations (first iteration expanded by default)</li> <li><strong>Sub-LLM and child events</strong> indented to show nesting</li> </ul> <hr> <h2 id=standalone-functions>Standalone Functions<a class=headerlink href=#standalone-functions title="Permanent link">&para;</a></h2> <h3 id=load_trajectorypath-trajectoryviewer><code>load_trajectory(path) -&gt; TrajectoryViewer</code><a class=headerlink href=#load_trajectorypath-trajectoryviewer title="Permanent link">&para;</a></h3> <p>Convenience function to load a trajectory file for viewing.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=kn>from</span><span class=w> </span><span class=nn>rlm_code.rlm.trajectory</span><span class=w> </span><span class=kn>import</span> <span class=n>load_trajectory</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>viewer</span> <span class=o>=</span> <span class=n>load_trajectory</span><span class=p>(</span><span class=s2>&quot;traces/run_001.jsonl&quot;</span><span class=p>)</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=nb>print</span><span class=p>(</span><span class=n>viewer</span><span class=o>.</span><span class=n>summary</span><span class=p>())</span>
</span></code></pre></div> <h3 id=compare_trajectoriespaths-dictstr-any><code>compare_trajectories(paths) -&gt; dict[str, Any]</code><a class=headerlink href=#compare_trajectoriespaths-dictstr-any title="Permanent link">&para;</a></h3> <p>Compare multiple trajectory files and compute aggregate statistics.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kn>from</span><span class=w> </span><span class=nn>rlm_code.rlm.trajectory</span><span class=w> </span><span class=kn>import</span> <span class=n>compare_trajectories</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=n>comparison</span> <span class=o>=</span> <span class=n>compare_trajectories</span><span class=p>([</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>    <span class=s2>&quot;traces/run_001.jsonl&quot;</span><span class=p>,</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>    <span class=s2>&quot;traces/run_002.jsonl&quot;</span><span class=p>,</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>    <span class=s2>&quot;traces/run_003.jsonl&quot;</span><span class=p>,</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=p>])</span>
</span></code></pre></div> <p>Returns:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=p>{</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>    <span class=s2>&quot;trajectories&quot;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>        <span class=p>{</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>            <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=s2>&quot;traces/run_001.jsonl&quot;</span><span class=p>,</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>            <span class=s2>&quot;run_id&quot;</span><span class=p>:</span> <span class=s2>&quot;run_001&quot;</span><span class=p>,</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>            <span class=s2>&quot;task&quot;</span><span class=p>:</span> <span class=s2>&quot;Analyze sentiment...&quot;</span><span class=p>,</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>            <span class=s2>&quot;success&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>            <span class=s2>&quot;iterations&quot;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>            <span class=s2>&quot;tokens&quot;</span><span class=p>:</span> <span class=mi>8523</span><span class=p>,</span>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a>            <span class=s2>&quot;duration_ms&quot;</span><span class=p>:</span> <span class=mi>4500</span><span class=p>,</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>        <span class=p>},</span>
</span><span id=__span-20-12><a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a>        <span class=c1># ... more trajectories ...</span>
</span><span id=__span-20-13><a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a>    <span class=p>],</span>
</span><span id=__span-20-14><a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a>    <span class=s2>&quot;comparison&quot;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-20-15><a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a>        <span class=s2>&quot;avg_iterations&quot;</span><span class=p>:</span> <span class=mf>3.7</span><span class=p>,</span>
</span><span id=__span-20-16><a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a>        <span class=s2>&quot;avg_tokens&quot;</span><span class=p>:</span> <span class=mi>9100</span><span class=p>,</span>
</span><span id=__span-20-17><a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a>        <span class=s2>&quot;avg_duration_ms&quot;</span><span class=p>:</span> <span class=mi>5200</span><span class=p>,</span>
</span><span id=__span-20-18><a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a>        <span class=s2>&quot;success_rate&quot;</span><span class=p>:</span> <span class=mf>0.67</span><span class=p>,</span>  <span class=c1># 2 out of 3 succeeded</span>
</span><span id=__span-20-19><a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a>    <span class=p>},</span>
</span><span id=__span-20-20><a id=__codelineno-20-20 name=__codelineno-20-20 href=#__codelineno-20-20></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=jsonl-format-specification>JSONL Format Specification<a class=headerlink href=#jsonl-format-specification title="Permanent link">&para;</a></h2> <p>Each line in a trajectory JSONL file is a valid JSON object with the following structure:</p> <h3 id=required-fields>Required Fields<a class=headerlink href=#required-fields title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Field</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>event_type</code></td> <td><code>string</code></td> <td>One of the <code>TrajectoryEventType</code> values</td> </tr> <tr> <td><code>timestamp</code></td> <td><code>float</code></td> <td>Unix timestamp</td> </tr> <tr> <td><code>run_id</code></td> <td><code>string</code></td> <td>Run identifier</td> </tr> </tbody> </table> <h3 id=optional-fields>Optional Fields<a class=headerlink href=#optional-fields title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Field</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>iteration</code></td> <td><code>integer</code></td> <td>Iteration number</td> </tr> <tr> <td><code>depth</code></td> <td><code>integer</code></td> <td>Recursion depth (omitted when 0)</td> </tr> <tr> <td><code>parent_id</code></td> <td><code>string</code></td> <td>Parent agent ID</td> </tr> <tr> <td><code>data</code></td> <td><code>object</code></td> <td>Event-specific payload</td> </tr> <tr> <td><code>tokens_in</code></td> <td><code>integer</code></td> <td>Input tokens</td> </tr> <tr> <td><code>tokens_out</code></td> <td><code>integer</code></td> <td>Output tokens</td> </tr> <tr> <td><code>duration_ms</code></td> <td><code>float</code></td> <td>Duration in milliseconds</td> </tr> </tbody> </table> <h3 id=example-complete-trajectory>Example Complete Trajectory<a class=headerlink href=#example-complete-trajectory title="Permanent link">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a>{&quot;event_type&quot;: &quot;run_start&quot;, &quot;timestamp&quot;: 1706400000.0, &quot;run_id&quot;: &quot;run_001&quot;, &quot;data&quot;: {&quot;task&quot;: &quot;Analyze sentiment&quot;, &quot;context_length&quot;: 45230, &quot;model&quot;: &quot;gpt-4o&quot;}}
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>{&quot;event_type&quot;: &quot;iteration_start&quot;, &quot;timestamp&quot;: 1706400000.1, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 1}
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>{&quot;event_type&quot;: &quot;iteration_reasoning&quot;, &quot;timestamp&quot;: 1706400001.0, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 1, &quot;data&quot;: {&quot;reasoning&quot;: &quot;Explore context structure&quot;}}
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>{&quot;event_type&quot;: &quot;iteration_code&quot;, &quot;timestamp&quot;: 1706400001.1, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 1, &quot;data&quot;: {&quot;code&quot;: &quot;print(len(context))&quot;}}
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a>{&quot;event_type&quot;: &quot;iteration_output&quot;, &quot;timestamp&quot;: 1706400001.5, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 1, &quot;data&quot;: {&quot;output&quot;: &quot;45230&quot;}, &quot;duration_ms&quot;: 15}
</span><span id=__span-21-6><a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>{&quot;event_type&quot;: &quot;sub_llm_request&quot;, &quot;timestamp&quot;: 1706400002.0, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 2, &quot;data&quot;: {&quot;prompt&quot;: &quot;Summarize...&quot;}, &quot;tokens_in&quot;: 500}
</span><span id=__span-21-7><a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a>{&quot;event_type&quot;: &quot;sub_llm_response&quot;, &quot;timestamp&quot;: 1706400003.5, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 2, &quot;data&quot;: {&quot;response&quot;: &quot;This discusses...&quot;}, &quot;tokens_out&quot;: 200, &quot;duration_ms&quot;: 1500}
</span><span id=__span-21-8><a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>{&quot;event_type&quot;: &quot;final_detected&quot;, &quot;timestamp&quot;: 1706400005.0, &quot;run_id&quot;: &quot;run_001&quot;, &quot;iteration&quot;: 3, &quot;data&quot;: {&quot;answer&quot;: &quot;Sentiment is positive&quot;}}
</span><span id=__span-21-9><a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a>{&quot;event_type&quot;: &quot;run_end&quot;, &quot;timestamp&quot;: 1706400005.1, &quot;run_id&quot;: &quot;run_001&quot;, &quot;data&quot;: {&quot;success&quot;: true, &quot;answer&quot;: &quot;Sentiment is positive&quot;, &quot;total_iterations&quot;: 3}, &quot;duration_ms&quot;: 5100}
</span></code></pre></div> <hr> <h2 id=complete-usage-example>Complete Usage Example<a class=headerlink href=#complete-usage-example title="Permanent link">&para;</a></h2> <div class="language-python highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=kn>from</span><span class=w> </span><span class=nn>rlm_code.rlm.trajectory</span><span class=w> </span><span class=kn>import</span> <span class=n>TrajectoryLogger</span><span class=p>,</span> <span class=n>TrajectoryViewer</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=c1># --- Logging ---</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=k>with</span> <span class=n>TrajectoryLogger</span><span class=p>(</span><span class=s2>&quot;traces/my_run.jsonl&quot;</span><span class=p>,</span> <span class=n>metadata</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o&quot;</span><span class=p>})</span> <span class=k>as</span> <span class=n>logger</span><span class=p>:</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>    <span class=n>logger</span><span class=o>.</span><span class=n>log_run_start</span><span class=p>(</span><span class=n>task</span><span class=o>=</span><span class=s2>&quot;Analyze data&quot;</span><span class=p>,</span> <span class=n>context_length</span><span class=o>=</span><span class=mi>50000</span><span class=p>)</span>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a>    <span class=n>logger</span><span class=o>.</span><span class=n>log_iteration</span><span class=p>(</span>
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a>        <span class=n>iteration</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>        <span class=n>reasoning</span><span class=o>=</span><span class=s2>&quot;Explore data structure&quot;</span><span class=p>,</span>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>        <span class=n>code</span><span class=o>=</span><span class=s1>&#39;print(type(context), len(context))&#39;</span><span class=p>,</span>
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>        <span class=n>output</span><span class=o>=</span><span class=s2>&quot;&lt;class &#39;str&#39;&gt; 50000&quot;</span><span class=p>,</span>
</span><span id=__span-22-12><a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a>        <span class=n>duration_ms</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span>
</span><span id=__span-22-13><a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a>    <span class=p>)</span>
</span><span id=__span-22-14><a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a>
</span><span id=__span-22-15><a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a>    <span class=n>logger</span><span class=o>.</span><span class=n>log_llm_call</span><span class=p>(</span>
</span><span id=__span-22-16><a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a>        <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;Summarize the first section...&quot;</span><span class=p>,</span>
</span><span id=__span-22-17><a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a>        <span class=n>response</span><span class=o>=</span><span class=s2>&quot;The first section covers...&quot;</span><span class=p>,</span>
</span><span id=__span-22-18><a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a>        <span class=n>tokens_in</span><span class=o>=</span><span class=mi>600</span><span class=p>,</span>
</span><span id=__span-22-19><a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a>        <span class=n>tokens_out</span><span class=o>=</span><span class=mi>150</span><span class=p>,</span>
</span><span id=__span-22-20><a id=__codelineno-22-20 name=__codelineno-22-20 href=#__codelineno-22-20></a>        <span class=n>duration_ms</span><span class=o>=</span><span class=mi>1100</span><span class=p>,</span>
</span><span id=__span-22-21><a id=__codelineno-22-21 name=__codelineno-22-21 href=#__codelineno-22-21></a>        <span class=n>is_sub_llm</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-22-22><a id=__codelineno-22-22 name=__codelineno-22-22 href=#__codelineno-22-22></a>    <span class=p>)</span>
</span><span id=__span-22-23><a id=__codelineno-22-23 name=__codelineno-22-23 href=#__codelineno-22-23></a>
</span><span id=__span-22-24><a id=__codelineno-22-24 name=__codelineno-22-24 href=#__codelineno-22-24></a>    <span class=n>logger</span><span class=o>.</span><span class=n>log_final</span><span class=p>(</span><span class=s2>&quot;Analysis complete: found 3 key themes&quot;</span><span class=p>)</span>
</span><span id=__span-22-25><a id=__codelineno-22-25 name=__codelineno-22-25 href=#__codelineno-22-25></a>    <span class=n>logger</span><span class=o>.</span><span class=n>log_run_end</span><span class=p>(</span><span class=n>success</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>answer</span><span class=o>=</span><span class=s2>&quot;3 key themes&quot;</span><span class=p>,</span> <span class=n>total_tokens</span><span class=o>=</span><span class=mi>2500</span><span class=p>)</span>
</span><span id=__span-22-26><a id=__codelineno-22-26 name=__codelineno-22-26 href=#__codelineno-22-26></a>
</span><span id=__span-22-27><a id=__codelineno-22-27 name=__codelineno-22-27 href=#__codelineno-22-27></a><span class=c1># --- Viewing ---</span>
</span><span id=__span-22-28><a id=__codelineno-22-28 name=__codelineno-22-28 href=#__codelineno-22-28></a><span class=n>viewer</span> <span class=o>=</span> <span class=n>TrajectoryViewer</span><span class=p>(</span><span class=s2>&quot;traces/my_run.jsonl&quot;</span><span class=p>)</span>
</span><span id=__span-22-29><a id=__codelineno-22-29 name=__codelineno-22-29 href=#__codelineno-22-29></a><span class=nb>print</span><span class=p>(</span><span class=n>viewer</span><span class=o>.</span><span class=n>format_tree</span><span class=p>())</span>
</span><span id=__span-22-30><a id=__codelineno-22-30 name=__codelineno-22-30 href=#__codelineno-22-30></a><span class=n>viewer</span><span class=o>.</span><span class=n>export_html</span><span class=p>(</span><span class=s2>&quot;traces/my_run.html&quot;</span><span class=p>)</span>
</span><span id=__span-22-31><a id=__codelineno-22-31 name=__codelineno-22-31 href=#__codelineno-22-31></a>
</span><span id=__span-22-32><a id=__codelineno-22-32 name=__codelineno-22-32 href=#__codelineno-22-32></a><span class=n>summary</span> <span class=o>=</span> <span class=n>viewer</span><span class=o>.</span><span class=n>summary</span><span class=p>()</span>
</span><span id=__span-22-33><a id=__codelineno-22-33 name=__codelineno-22-33 href=#__codelineno-22-33></a><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Run </span><span class=si>{</span><span class=n>summary</span><span class=p>[</span><span class=s1>&#39;run_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>summary</span><span class=p>[</span><span class=s1>&#39;total_iterations&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2> iterations, &quot;</span>
</span><span id=__span-22-34><a id=__codelineno-22-34 name=__codelineno-22-34 href=#__codelineno-22-34></a>      <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>summary</span><span class=p>[</span><span class=s1>&#39;total_tokens&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2> tokens&quot;</span><span class=p>)</span>
</span></code></pre></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Brought to You by <a href=https://super-agentic.ai target=_blank rel=noopener>Superagentic AI</a> </div> </div> <div class=md-social> <a href=https://github.com/SuperagenticAI/rlm-code target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/rlm-code/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate", "content.tabs.link", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>